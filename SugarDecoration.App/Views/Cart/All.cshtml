@model AllQueryCartModel
@{
    ViewBag.Title = "Всички продукти в количката";
}

<div class="container">
    <h2>Количка</h2>
    <div style="right:50px;">
        <a class="btn btn-primary m-2" asp-area="" asp-controller="Cart" asp-action="AddCustom">Добави друго</a>
    </div>
    <ul class="list-group">
        @foreach (var item in Model.CartItems)
        {
            <li class="list-group-item">
                <div class="cart-item">
                    <img src="@(item.IsRefToProduct ? @item.ImageUrl : "~/images/NoProduct.bmp")" alt="@(item.IsRefToProduct ? @item.ProductTitle : "Custom item")">
                    <div>
                        <h5>@(item.IsRefToProduct ? @item.ProductTitle : "Custom item")</h5>
                        <p>Бройка: @item.Quantity</p>
                        <a class="btn btn-primary" asp-area="" asp-controller="Cart" asp-action="Details">Детайли</a>
                        <a class="btn btn-primary" asp-area="" asp-controller="Cart" asp-action="Edit">Промени</a>
                        <a class="btn btn-primary" asp-area="" asp-controller="Cart" asp-action="DeleteFromCart">Изтрий</a>
                    </div>
                </div>
                
            </li>
        }
    </ul>
    <div class="mt-4">
        Обща бройка: @Model.ItemsCount
    </div>
    <a asp-action="Create" asp-controller="Order" class="btn btn-primary">Поръчай</a>
    <a asp-route-cartId="@Model.CartId" asp-action="DeleteCart" asp-controller="Cart" class="btn btn-primary">Изтрий всичко</a>
</div>


<style>
    .cart-item {
        display: flex;
        align-items: center;
        border-bottom: 1px solid #dee2e6;
        padding: 10px;
    }

        .cart-item img {
            max-width: 100px;
            margin-right: 20px;
        }
</style>